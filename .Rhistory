bandung_data <- read_csv("bandung_data.csv")
bandung_data <- read.csv("bandung_data.csv")
View(bandung_data)
?read.csv
bandung_data[1,]
summary(bandung_data$delegate)
bandung_data <- read.csv("bandung_data.csv", na.strings="")
View(bandung_data)
library(tidyverse)
bandung_data <- str_to_lower(bandung_data)
bandung_data$text
bandung_data <- read.csv("bandung_data.csv", na.strings="")
bandung_data$text
bandung_data$text <- str_to_lower(bandung_data$text)
View(bandung_data)
library(tm)
text <- bandung_data$text
docs <- Corpus(VectorSource(text))
View(docs)
docs <- tm_map(docs, removeWords, stopwords("english"))
docs <- Corpus(VectorSource(text))
docs <- docs %>%
tm_map(removeNumbers) %>%
tm_map(removePunctuation) %>%
tm_map(stripWhitespace)
docs <- tm_map(docs, content_transformer(tolower))
docs <- tm_map(docs, removeWords, stopwords("english"))
dtm <- TermDocumentMatrix(docs)
View(dtm)
matrix <- as.matrix(dtm)
words <- sort(rowSums(matrix),decreasing=TRUE)
df <- data.frame(word = names(words),freq=words)
View(df)
View(matrix)
View(bandung_data)
bandung_all <- write.csv("df", bandung_all.csv)
bandung_all <- write.csv(df, "bandung_all.csv")
View(bandung_data)
View(df)
bandung_data$topic |> unique()
View(bandung_data)
bandung_data$delegate |> unique()
bandung_data$press_region |> unique()
bandung_data$text |> filter(topic=="speech")
bandung_data$text |> filter(topic="speech")
bandung_data |> filter(topic="speech")
bandung_data |> filter(topic=="speech")
test <- bandung_data |> filter(topic=="speech")
View(test)
bandung_data <- read.csv("bandung_data.csv", na.strings="")
bandung_data$text <- str_to_lower(bandung_data$text)
View(bandung_data)
bandung_data$topic |> unique()
test <- bandung_data |> filter(topic=="communique")
View(test)
create_df <- function(data) {
text <- data$text
docs <- Corpus(VectorSource(text))
docs <- docs %>%
tm_map(removeNumbers) %>%
tm_map(removePunctuation) %>%
tm_map(stripWhitespace)
docs <- tm_map(docs, content_transformer(tolower))
docs <- tm_map(docs, removeWords, stopwords("english"))
dtm <- TermDocumentMatrix(docs)
matrix <- as.matrix(dtm)
words <- sort(rowSums(matrix),decreasing=TRUE)
df <- data.frame(word = names(words),freq=words)
df
}
purpose <- bandung_data |> filter(topic=="purpose")
View(purpose)
purpose_df <- create_df(purpose)
View(purpose_df)
df_test <- df |> left_join(purpose, by = "word")
?left_join
df_test <- df |> left_join(purpose_df, by = "word")
View(df_test)
df_test <- df |> left_join(purpose_df, by = "word", suffix = c(".all, .purpose"))
View(df_test)
df_test <- df |> left_join(purpose_df, by = "word", suffix = c(".all", ".purpose"))
write.csv(df_test, "df_test.csv")
bandung_data <- read.csv("bandung_data.csv", na.strings="")
bandung_data$text <- str_to_lower(bandung_data$text)
general <- bandung_data |> filter(topic=="general")
general_df <- create_df(general)
df_test <- df |> left_join(general_df, by = "word", suffix = c(".all", ".general"))
write.csv(df_test, "df_test.csv")
View(df_test)
write.csv(df_test, "df_test.csv")
write.csv(df_test, "df_general.csv")
View(purpose_df)
write.csv(df_test, "df_purpose.csv")
View(df_test)
df_test <- df |> left_join(purpose_df, by = "word", suffix = c(".all", ".purpose"))
View(purpose_df)
df_test <- df |> left_join(purpose_df, by = "word", suffix = c(".all", ".purpose"))
View(df_test)
write.csv(df_test, "df_purpose.csv")
write.csv(df_test, "df_test.csv")
bandung_data <- read.csv("bandung_data.csv", na.strings="")
bandung_data$text <- str_to_lower(bandung_data$text)
general <- bandung_data |> filter(topic=="general")
purpose <- bandung_data |> filter(topic=="purpose")
bandung_data$topic |> unique()
communique <- bandung_data |> filter(topic=="communique")
press <- bandung_data |> filter(topic=="press")
library(tm)
address <- bandung_data |> filter(topic=="address")
general_df <- create_df(general)
purpose_df <- create_df(purpose)
general_df <- create_df(general)
communique_df <- create_df(communique)
press_df <- create_df(press)
address_df <- create_df(address)
View(df_test)
df_test <- df_test |> left_join(general_df, by = "word")
View(df_test)
df_test <- df |> left_join(purpose_df, by = "word", suffix = c(".all", ".purpose"))
df_test <- df_test |> left_join(general_df, by = "word", suffix = c(".test", ".general"))
View(df_test)
View(df_test)
df_test |> rename(freq.general = freq)
df_test <- df_test |> rename(freq.general = freq)
write.csv(df_test, "df_test2.csv")
purpose_df <- create_df(purpose)
general_df <- create_df(general)
communique_df <- create_df(communique)
press_df <- create_df(press)
address_df <- create_df(address)
?left_join
df_test <- df_test |> left_join(communique_df, by = "word")
df_test <- df_test |> rename(freq.communique = freq)
View(df_test)
df_test <- df_test |> left_join(press_df, by = "press")
df_test <- df_test |> rename(freq.press = freq)
df_test <- df_test |> left_join(press_df, by = "word")
df_test <- df_test |> rename(freq.press = freq)
write.csv(df_test, "df_test2.csv")
